# Лабораторная работа №6 - Рефакторинг и code smells

## Какие проблемы качества были найдены
- Слишком объёмная функция `process_checkout`.
- Дублирование в логике, смешаны валидация, расчёты и формирование ответа.
- Магические числа не вынесены.
- Слишком много вложенных условий при расчёте скидки.

## Какие рефакторинги были применены
- Extract Function: вынесены функции для валидации, подсчёта subtotal, скидки, налога, генерации order_id и сборки ответа.
- Introduce Constants: все магические числа вынесены в константы.
- Упрощение сценария: `process_checkout` теперь читается последовательно сверху вниз.
- DRY/KISS: каждая функция делает одну понятную операцию.

## Что стало проще читать и менять
- Проще менять правила скидок и налогов, теперь всё находится в отдельных функциях и константах.
- Проще тестировать и расширять. Например, добавлять новые купоны.
- Основной сценарий оформления заказа стал коротким и понятным.
